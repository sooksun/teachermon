# Preview ‡∏™‡πÑ‡∏•‡∏î‡πå + % ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (‡∏ß19/2568)

## ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°

### 1. Indicator Evidence Checks (‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô)
**‡πÑ‡∏ü‡∏•‡πå:** `packages/shared/src/constants/indicator-checks.ts`

‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î ‡∏ß19/2568 ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏î‡πâ‡∏≤‡∏ô:

| ‡∏î‡πâ‡∏≤‡∏ô | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô checks |
|------|----------------|-------------|
| ‡∏î‡πâ‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û | 10 ‡∏Ç‡πâ‡∏≠ (P1.1-P2.3) | 35 checks |
| ‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° | 2 ‡∏Ç‡πâ‡∏≠ (S1-S2) | 6 checks |
| ‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞ | 15 ‡∏Ç‡πâ‡∏≠ (PER1.1-PER2.4) | 30 checks |
| **‡∏£‡∏ß‡∏°** | **27 ‡∏Ç‡πâ‡∏≠** | **71 checks** |

‡πÅ‡∏ï‡πà‡∏•‡∏∞ check ‡∏£‡∏∞‡∏ö‡∏∏:
- `id` / `label` / `weight` (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å 0-100)
- `evidenceTypes` (‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö)
- `autoDetectable` (‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà)
- `heuristic` (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)

### 2. Completeness Calculation Service
**‡πÑ‡∏ü‡∏•‡πå:** `apps/api/src/indicators/completeness.service.ts`

‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö:
1. **Indicator Completeness** ‚Äî % ‡∏£‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î (‡∏à‡∏≤‡∏Å checks ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô)
2. **Slide Completeness** ‚Äî % ‡∏£‡∏≤‡∏¢‡∏™‡πÑ‡∏•‡∏î‡πå (‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏ö‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå)
3. **Deck Completeness** ‚Äî % ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏∏‡∏î (‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏™‡πÑ‡∏•‡∏î‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)

**‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:**
- `HAS_SESSION` ‚Üí ‡∏à‡∏≤‡∏Å AnalysisJob ‡∏ó‡∏µ‡πà status DONE
- `HAS_TRANSCRIPT` ‚Üí ‡∏à‡∏≤‡∏Å hasTranscript
- `MENTOR_LEARNING` ‚Üí ‡∏à‡∏≤‡∏Å MentoringVisit records
- `PLC_EVIDENCE` ‚Üí ‡∏à‡∏≤‡∏Å PLCActivity records
- `REFLECTION_NOTE` ‚Üí ‡∏à‡∏≤‡∏Å ReflectiveJournal
- ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏≤‡∏Å portfolio items ‡∏ó‡∏µ‡πà tag ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î

### 3. API Endpoints

| Method | Path | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|--------|------|----------|
| GET | `/completeness/teacher/:teacherId?round=1` | ‡∏î‡∏∂‡∏á % ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏£‡∏π |
| GET | `/completeness/me?round=1` | ‡∏î‡∏∂‡∏á % ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á |
| GET | `/completeness/config` | ‡∏î‡∏∂‡∏á indicator check config |
| GET | `/completeness/slides?round=1` | ‡∏î‡∏∂‡∏á slide templates |
| GET | `/completeness/criteria` | ‡∏î‡∏∂‡∏á‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô |
| POST | `/deck/generate/:teacherId?round=1&year=2568` | ‡∏™‡∏£‡πâ‡∏≤‡∏á Slidev deck |
| POST | `/deck/generate/me?round=1&year=2568` | ‡∏™‡∏£‡πâ‡∏≤‡∏á Slidev deck ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á |

### 4. ‡∏´‡∏ô‡πâ‡∏≤ Preview Dashboard
**‡πÑ‡∏ü‡∏•‡πå:** `apps/web/app/portfolio/preview/page.tsx`
**‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á:** `/portfolio/preview`

‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö:
- **‡∏™‡πà‡∏ß‡∏ô A: Progress ‡∏£‡∏ß‡∏°** ‚Äî ‡∏ß‡∏á‡∏Å‡∏•‡∏° % + ‡πÅ‡∏ñ‡∏ö‡∏£‡∏≤‡∏¢‡∏î‡πâ‡∏≤‡∏ô + ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô
- **‡∏™‡πà‡∏ß‡∏ô B: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î** ‚Äî 3 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û/‡∏™‡∏±‡∏á‡∏Ñ‡∏°/‡∏Ñ‡∏∏‡∏ì‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞) ‡∏Å‡∏î‡∏Ç‡∏¢‡∏≤‡∏¢‡∏î‡∏π checks ‡πÑ‡∏î‡πâ
- **‡∏™‡πà‡∏ß‡∏ô C: Preview ‡∏™‡πÑ‡∏•‡∏î‡πå** ‚Äî ‡πÅ‡∏ñ‡∏ö‡∏™‡πÑ‡∏•‡∏î‡πå‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡∏π‡πÑ‡∏î‡πâ

‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1-4 ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

### 5. Slidev Deck Generator
**‡πÑ‡∏ü‡∏•‡πå:** `apps/api/src/indicators/deck-generator.service.ts`

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:
```
/data/decks/{teacherId}/{year}/
‚îú‚îÄ‚îÄ slides.md           # Slidev deck ‡∏´‡∏•‡∏±‡∏Å
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ ProgressBar.vue # Component ‡πÅ‡∏™‡∏î‡∏á %
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ completeness.json  # ‡∏ú‡∏•‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì %
    ‚îî‚îÄ‚îÄ indicators.json    # ‡∏ô‡∏¥‡∏¢‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î
```

### 6. Slide Template Config
‡∏™‡πÑ‡∏•‡∏î‡πå‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô 14 ‡∏™‡πÑ‡∏•‡∏î‡πå:
1. ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏Å
2. ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå 3 ‡∏î‡πâ‡∏≤‡∏ô
3. ‡∏î‡πâ‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û: ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
4. 1.1 ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£
5. 1.2 ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
6. 1.3 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Active Learning
7. 1.4‚Äì1.5 ‡∏™‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ + ‡∏ß‡∏±‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•
8. 1.6‚Äì1.7 ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏® + ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•
9. 2.1‚Äì2.3 ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô
10. ‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°: Mentor + PLC *(‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 3-4)*
11. ‡∏ß‡∏¥‡∏ô‡∏±‡∏¢ ‡∏Ñ‡∏∏‡∏ì‡∏ò‡∏£‡∏£‡∏° ‡∏à‡∏£‡∏¥‡∏¢‡∏ò‡∏£‡∏£‡∏°
12. ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡∏ô‡πÄ‡∏≠‡∏á *(‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 3-4)*
13. ‡∏™‡∏£‡∏∏‡∏õ: ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå + ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°

---

## ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì

```
indicator_score = SUM(weight of passed checks)  // 0-100
domain_score = AVG(indicator_scores in domain)
slide_score = AVG(indicator_scores on slide)
deck_score = AVG(slide_scores)
```

## ‡πÄ‡∏Å‡∏ì‡∏ë‡πå "‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠"

| ‡∏™‡∏µ | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|----|--------|-------|
| üü¢ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß | ‚â• 80% | ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ (READY) |
| üü° ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á | 50-79% | ‡∏â‡∏ö‡∏±‡∏ö‡∏£‡πà‡∏≤‡∏á (DRAFT) |
| üî¥ ‡πÅ‡∏î‡∏á | < 50% | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (INSUFFICIENT) |

## ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô (‡∏ß19/2568)

### ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1-2:
- ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û: ‡∏ú‡πà‡∏≤‡∏ô ‚â• 9/10
- ‡∏Ñ‡∏∏‡∏ì‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞ (‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡∏Ø): ‡∏ú‡πà‡∏≤‡∏ô ‚â• 7 ‡∏Ç‡πâ‡∏≠

### ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 3-4:
- ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û: ‡∏ú‡πà‡∏≤‡∏ô ‚â• 11 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
- ‡∏™‡∏±‡∏á‡∏Ñ‡∏°: ‡∏ú‡πà‡∏≤‡∏ô ‚â• 3 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
- ‡∏Ñ‡∏∏‡∏ì‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏£‡∏ß‡∏°: ‡∏ú‡πà‡∏≤‡∏ô ‚â• 11 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå

```bash
# 1. Build shared package
cd packages/shared && pnpm build

# 2. Build API
cd apps/api && pnpm build

# 3. Restart services
docker compose restart api web
```

## ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà:
- `packages/shared/src/constants/indicator-checks.ts`
- `apps/api/src/indicators/completeness.service.ts`
- `apps/api/src/indicators/completeness.controller.ts`
- `apps/api/src/indicators/deck-generator.service.ts`
- `apps/api/src/indicators/deck-generator.controller.ts`
- `apps/web/app/portfolio/preview/page.tsx`

### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
- `packages/shared/src/constants/index.ts` (‡πÄ‡∏û‡∏¥‡πà‡∏° export)
- `apps/api/src/indicators/indicators.module.ts` (‡πÄ‡∏û‡∏¥‡πà‡∏° providers/controllers)
- `apps/web/app/portfolio/page.tsx` (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° Preview)
